<%- include("./partials/header") %>

<div class="d-flex justify-content-center"><h1 class="blog-show-title "> <%=category_name%></h1></div>
<%blogs.forEach(function(blog){  %>       
	<div class="d-flex justify-content-center">
	  <div class="blog-card">
		<div class="row">
		  <div class="col-sm-3 col-12">
			<div class="blog-image">
			  <img src="<%=blog.image%>"> 
			</div>
		  </div>
		  <div class="col-sm-9 col-12">
			<div class="blog-card-info">
			  <a href="/blogs/sorted/<%=blog.category%>"><button type="button" class="btn btn <%=blog.category%> category btn-sm"><%=blog.category%></button></a>
			  <a class="title-link-small" href="/blogs/<%=blog._id%>"><h2 class="blog-card-title"><%= blog.title %>  </h2> </a>
			 
			  <a class="title-link-small" href="/blogs/<%=blog._id%>"> <h3  class="blog-card-author">
				<%=blog.author%>
			  </h3>
			  </a>		  
			  <a class="title-link-small" href="/blogs/<%=blog._id%>"><p class="summary">"<%=blog.description%>"</p> </a>
			  <span><%=blog.created%></span>
			  <a class="show-blog" href="/blogs/<%=blog._id%>">Read More <i class="fas fa-angle-double-right"></i></a>
			</div>
		  </div>
		</div>
	  </div>
	</div>     
<% }) %>

<nav aria-label="Page navigation">
    <% if (pages && pages > 0) { %>
    <ul class="pagination justify-content-center">
        <% if (current == 1) { %>
        <li class="page-item disabled"><a class="page-link">First</a></li>
        <% } else { %>
        <li><a class="page-link" href="/blogs">First</a></li>
        <% } %>
 
        <% if (current == 1) { %>
        <li class="page-item disabled"><a class="page-link">«</a></li>
        <% } else { %>
        <li><a class="page-link" href="/blogs?page=<%= Number(current) - 1 %>">«</a></li>
        <% } %>
 
        <% var i = (Number(current) > 5 ? Number(current) - 4 : 1) %>
        <% if (i !== 1) { %>
        <li class="page-item disabled"><a class="page-link">...</a></li>
        <% } %>
        <% for (; i <= (Number(current) + 4) && i <= pages; i++) { %>
        <% if (i == current) { %>
        <li class="active"><a class="page-link"><%= i %></a></li>
        <% } else { %>
        <li><a class="page-link" href="/blogs?page=<%= i %>"><%= i %></a></li>
        <% } %>
        <% if (i == Number(current) + 4 && i < pages) { %>
        <li class="page-item disabled"><a class="page-link">...</a></li>
        <% } %>
        <% } %>
 
        <% if (current == pages) { %>
        <li class="page-item disabled"><a class="page-link">»</a></li>
        <% } else { %>
        <li><a class="page-link" href="/blogs?page=<%= Number(current) + 1 %>">»</a></li>
        <% } %>
 
        <% if (current == pages) { %>
        <li class="page-item disabled"><a class="page-link">Last</a></li>
        <% } else { %>
        <li><a class="page-link" href="/blogs?page=<%= pages %>">Last</a></li>
        <% } %>
    </ul>
    <% } %>
</nav>


<%- include("./partials/footer") %>


